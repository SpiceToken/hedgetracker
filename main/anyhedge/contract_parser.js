const { AnyHedgeManager, isParsedMutualRedemptionData, isParsedPayoutData } = require('@generalprotocols/anyhedge');


const parse = async function() {
    const manager = new AnyHedgeManager();

    const payoutTransaction = '0200000001b9c1e7ef437f048c0adf3c828f51e8387327e1cee736c4526f3181e6a39750d500000000fd8c044089d2e5db28ed8f66a6630c7ba1fed35c09e556ff0563331b08f71823c8b795e744195df18da91b4c441ceb096704ad2cdf5e480a8897bc6ff1469e01d9faaa1332747e0000102d0a000000000000000000024848f437a1cc9ee47fdd69f95e1fb7d6144f60ec3af5880100547b000069c0e05f2103f62307da010c47ed6ce79bfd0c444a9b832a228e992df964d2993317fa90021341becbcd1395406a4eb7bb690502ec7cec8d094de203ea4620e9cfcfe01b9e147968147bc216258182345067ca333a017ca0dcd901e956421862853a71473c4b44412102bca289e12298914e45f1afdcb6e6fe822b9f9c7cd671fb195c476ac465725e6f1a1976a914916aab9455998748d4c1de4187fcb8be780d15a788ac1a1976a9143ecd7c6bb0c985b005978f94287ca795765de3b488ac4dfa0102000000a5750c3e0eb107c20b31a196596cd1dc35bfa5a9edb8865adc9bff3db0046efb18606b350cd8bf565266bc352f0caddcf01e8fa789dd8a15386327cf8cabe198b9c1e7ef437f048c0adf3c828f51e8387327e1cee736c4526f3181e6a39750d500000000fd5b0103102d0a03802c0a03da840502f7690002000004cd7b970604ef7dba0214b372833f3db55ed6102a9d357d808d5aac7ec8b714eb0f8ec3ffbd66f84e7bcdebf8f2e41609f280de5a79009c635b795d797ea9885c7a5b7aad5b7a5b7aad6d6d6d6d6d51675a7a519d5a79547f7701207f01207f7701247f820128947f7701207f757b7baa887b5c795e797e5f797ea98801117a0111795f7abb5d7a5e7a6e7c828c7f755e7aa87bbbad5c79547f777601247f77527f75815e7a547f75817b547f75817800a0697c5a79a35979a47804ff64cd1d9f6978b175785c7a5d798ba5697c5b7a9f637659798b5b79a591696778519d685479789657797c54807e81557a527997577a827754527982779478a3007880537a54807e817b7b94537a7c7f778196935479a3547a789402220258805857798277945779547a5279807e5279855a7a7e577a547a537a807e7b85577a7e537a7b7b7eaa886d6d51681685970600000000feffffffa67432b1c1fb4a32424bf51dc242274a6c386050dc72cd20e1057ed0fc5b6038102d0a0041000000514d5b0103102d0a03802c0a03da840502f7690002000004cd7b970604ef7dba0214b372833f3db55ed6102a9d357d808d5aac7ec8b714eb0f8ec3ffbd66f84e7bcdebf8f2e41609f280de5a79009c635b795d797ea9885c7a5b7aad5b7a5b7aad6d6d6d6d6d51675a7a519d5a79547f7701207f01207f7701247f820128947f7701207f757b7baa887b5c795e797e5f797ea98801117a0111795f7abb5d7a5e7a6e7c828c7f755e7aa87bbbad5c79547f777601247f77527f75815e7a547f75817b547f75817800a0697c5a79a35979a47804ff64cd1d9f6978b175785c7a5d798ba5697c5b7a9f637659798b5b79a591696778519d685479789657797c54807e81557a527997577a827754527982779478a3007880537a54807e817b7b94537a7c7f778196935479a3547a789402220258805857798277945779547a5279807e5279855a7a7e577a547a537a807e7b85577a7e537a7b7b7eaa886d6d5168feffffff02a7128605000000001976a9143ecd7c6bb0c985b005978f94287ca795765de3b488ac266b1101000000001976a914916aab9455998748d4c1de4187fcb8be780d15a788ac102d0a00';
    const parsedPayoutData = await manager.parseSettlementTransaction(payoutTransaction);

    console.log('Is this a payout transaction?', isParsedPayoutData(parsedPayoutData));
    console.log(JSON.stringify(parsedPayoutData, null, 2));
}

parse();
